<!doctype html>
<html lang="nl">
<head>

  <meta charset="utf-8">
  
  <title>Lazy Loading Example</title>

  <style>

    .fullscreen {
      height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

  </style>

</head>
<body>

  <div class="fullscreen">
    <h1>Fullscreen div</h1>
  </div>

  <div class="image-container">
    <img id="lazy-image" data-src="image.png" alt="image" loading="lazy"/>
  </div>

  <script>

    document.addEventListener("DOMContentLoaded", () => {
      const image = document.getElementById("lazy-image");

      if ("IntersectionObserver" in window) {
        let intersectionObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.target.id === "lazy-image" && entry.isIntersecting) {
              image.src = image.dataset.src;
              image.removeAttribute("data-src");
              intersectionObserver.unobserve(image);
            }
          })
        })

        intersectionObserver.observe(image);
      } else {
        image.src = image.dataset.src;
      }
    }); 
  </script>

</body>
</html>
